import { useEffect, useState } from "react";
import { clamp } from "../util/Math";

export interface ExternalValueProps {}

interface InternalValueProps extends ExternalValueProps {
  value: number;
}

const Value = ({ value }: InternalValueProps) => {
  const [values, setValues] = useState(["0", "0", "0", "0"]);

  useEffect(() => {
    const clampedValue = clamp(value);
    const adjustedValue = clampedValue * 99.99;
    const fixedValue = adjustedValue.toFixed(2).padStart(5, "0");
    const digits = fixedValue.split("");
    setValues([digits[0], digits[1], digits[3], digits[4]]);
  }, [value]);
  console.log(value);
  return (
    <div className="flex h-full fill-secondary justify-center gap-1 p-1">
      {GetDigital(values[0])}
      {GetDigital(values[1])}
      {DigitalDot()}
      {GetDigital(values[2])}
      {GetDigital(values[3])}
    </div>
  );
};

export default Value;

const DigitalDot = () => {
  return (
    <svg
      className="h-full"
      viewBox="32 0 64 256"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        d="M75.846 176a4 4 0 0 1 4.002 4.002V203.6a4.002 4.002 0 0 1-4.002 4.003H52.001A4 4 0 0 1 48 203.599v-23.597A4.002 4.002 0 0 1 52.001 176h23.845z"
        fillRule="evenodd"
      />
    </svg>
  );
};

const Digital0 = () => {
  return (
    <svg
      className="h-full"
      viewBox="64 0 128 256"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        d="M163.819 107.882c.006 2.204 1.314 5.22 2.922 6.738l6.463 6.098c1.608 1.518 4.309 1.626 6.022.25l9.525-7.65c1.718-1.38 3.113-4.283 3.116-6.496l.078-71.27c.002-2.208-1.303-2.78-2.915-1.277l-22.432 20.91c-1.612 1.502-2.914 4.516-2.908 6.71l.129 45.987zm-88.526 28.222c1.741-1.359 4.574-1.377 6.334-.035l7.282 5.549c1.757 1.34 3.179 4.212 3.175 6.417l-.08 45.714c-.003 2.205-1.319 5.196-2.95 6.692l-22.11 20.28c-1.626 1.491-2.944.913-2.944-1.301v-70.501c0-2.21 1.411-5.103 3.152-6.461l8.141-6.354zm81.946 66.067c2.211.003 5.325 1.214 6.95 2.7l24.4 22.31c1.627 1.488 1.156 2.695-1.053 2.697l-118.63.092c-2.21.001-2.693-1.232-1.088-2.747l23.697-22.386c1.608-1.519 4.699-2.748 6.916-2.745l58.808.08zm0-149.283c2.211-.003 5.325-1.213 6.95-2.699l24.4-22.31c1.627-1.488 1.157-2.694-1.05-2.694H68.996c-2.207 0-2.694 1.23-1.094 2.74l23.623 22.307c1.602 1.514 4.689 2.738 6.906 2.735l58.808-.079zm7.127 95.528c.015-2.212 1.4-5.156 3.1-6.58l6.35-5.323c1.698-1.422 4.56-1.565 6.387-.322l8.302 5.646c1.83 1.244 3.326 4.042 3.342 6.258l.51 70.57c.016 2.21-1.32 2.83-2.992 1.374l-22.313-19.423c-1.668-1.452-3.009-4.412-2.994-6.635l.308-45.565zM89.19 56.053c1.618 1.5 2.93 4.501 2.93 6.714v44.353c0 2.209-1.275 5.253-2.848 6.8l-7.356 7.232c-1.572 1.546-4.225 1.666-5.933.26l-8.897-7.325c-1.704-1.403-3.086-4.335-3.086-6.53v-70.85c0-2.205 1.319-2.77 2.93-1.277l22.26 20.623z"
        fillRule="evenodd"
      />
    </svg>
  );
};

const Digital1 = () => {
  return (
    <svg
      className="h-full"
      viewBox="64 0 128 256"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        d="M163.819 107.882c.006 2.204 1.314 5.22 2.922 6.738l6.463 6.098c1.608 1.518 4.309 1.626 6.022.25l9.525-7.65c1.718-1.38 3.113-4.283 3.116-6.496l.078-71.27c.002-2.208-1.303-2.78-2.915-1.277l-22.432 20.91c-1.612 1.502-2.914 4.516-2.908 6.71l.129 45.987zm.547 40.534c.015-2.212 1.4-5.156 3.1-6.58l6.35-5.323c1.698-1.422 4.56-1.565 6.387-.322l8.302 5.646c1.83 1.244 3.326 4.042 3.342 6.258l.51 70.57c.016 2.21-1.32 2.83-2.992 1.374l-22.313-19.423c-1.668-1.452-3.009-4.412-2.994-6.635l.308-45.565z"
        fillRule="evenodd"
      />
    </svg>
  );
};

const Digital2 = () => {
  return (
    <svg
      className="h-full"
      viewBox="64 0 128 256"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        d="M163.819 107.882c.006 2.204 1.314 5.22 2.922 6.738l6.463 6.098c1.608 1.518 4.309 1.626 6.022.25l9.525-7.65c1.718-1.38 3.113-4.283 3.116-6.496l.078-71.27c.002-2.208-1.303-2.78-2.915-1.277l-22.432 20.91c-1.612 1.502-2.914 4.516-2.908 6.71l.129 45.987zm-71.78 11.642c1.561-1.56 4.618-2.841 6.834-2.863l56.433-.554c2.213-.022 5.297 1.204 6.887 2.738l7.074 6.82c1.59 1.535 1.51 3.937-.175 5.362l-6.575 5.564c-1.687 1.427-4.85 2.589-7.047 2.595l-55.465.16c-2.205.006-5.367-1.141-7.062-2.564l-6.812-5.717c-1.695-1.423-1.805-3.837-.241-5.4l6.149-6.141zm-16.746 16.58c1.741-1.359 4.574-1.377 6.334-.035l7.282 5.549c1.757 1.34 3.179 4.212 3.175 6.417l-.08 45.714c-.003 2.205-1.319 5.196-2.95 6.692l-22.11 20.28c-1.626 1.491-2.944.913-2.944-1.301v-70.501c0-2.21 1.411-5.103 3.152-6.461l8.141-6.354zm81.946 66.067c2.211.003 5.325 1.214 6.95 2.7l24.4 22.31c1.627 1.488 1.156 2.695-1.053 2.697l-118.63.092c-2.21.001-2.693-1.232-1.088-2.747l23.697-22.386c1.608-1.519 4.699-2.748 6.916-2.745l58.808.08zm0-149.283c2.211-.003 5.325-1.213 6.95-2.699l24.4-22.31c1.627-1.488 1.157-2.694-1.05-2.694H68.996c-2.207 0-2.694 1.23-1.094 2.74l23.623 22.307c1.602 1.514 4.689 2.738 6.906 2.735l58.808-.079z"
        fillRule="evenodd"
      />
    </svg>
  );
};

const Digital3 = () => {
  return (
    <svg
      className="h-full"
      viewBox="64 0 128 256"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        d="M163.819 107.882c.006 2.204 1.314 5.22 2.922 6.738l6.463 6.098c1.608 1.518 4.309 1.626 6.022.25l9.525-7.65c1.718-1.38 3.113-4.283 3.116-6.496l.078-71.27c.002-2.208-1.303-2.78-2.915-1.277l-22.432 20.91c-1.612 1.502-2.914 4.516-2.908 6.71l.129 45.987zm-71.78 11.642c1.561-1.56 4.618-2.841 6.834-2.863l56.433-.554c2.213-.022 5.297 1.204 6.887 2.738l7.074 6.82c1.59 1.535 1.51 3.937-.175 5.362l-6.575 5.564c-1.687 1.427-4.85 2.589-7.047 2.595l-55.465.16c-2.205.006-5.367-1.141-7.062-2.564l-6.812-5.717c-1.695-1.423-1.805-3.837-.241-5.4l6.149-6.141zm65.2 82.647c2.211.003 5.325 1.214 6.95 2.7l24.4 22.31c1.627 1.488 1.156 2.695-1.053 2.697l-118.63.092c-2.21.001-2.693-1.232-1.088-2.747l23.697-22.386c1.608-1.519 4.699-2.748 6.916-2.745l58.808.08zm0-149.283c2.211-.003 5.325-1.213 6.95-2.699l24.4-22.31c1.627-1.488 1.157-2.694-1.05-2.694H68.996c-2.207 0-2.694 1.23-1.094 2.74l23.623 22.307c1.602 1.514 4.689 2.738 6.906 2.735l58.808-.079zm7.127 95.528c.015-2.212 1.4-5.156 3.1-6.58l6.35-5.323c1.698-1.422 4.56-1.565 6.387-.322l8.302 5.646c1.83 1.244 3.326 4.042 3.342 6.258l.51 70.57c.016 2.21-1.32 2.83-2.992 1.374l-22.313-19.423c-1.668-1.452-3.009-4.412-2.994-6.635l.308-45.565z"
        fillRule="evenodd"
      />
    </svg>
  );
};

const Digital4 = () => {
  return (
    <svg
      className="h-full"
      viewBox="64 0 128 256"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        d="M163.819 107.882c.006 2.204 1.314 5.22 2.922 6.738l6.463 6.098c1.608 1.518 4.309 1.626 6.022.25l9.525-7.65c1.718-1.38 3.113-4.283 3.116-6.496l.078-71.27c.002-2.208-1.303-2.78-2.915-1.277l-22.432 20.91c-1.612 1.502-2.914 4.516-2.908 6.71l.129 45.987zm-71.78 11.642c1.561-1.56 4.618-2.841 6.834-2.863l56.433-.554c2.213-.022 5.297 1.204 6.887 2.738l7.074 6.82c1.59 1.535 1.51 3.937-.175 5.362l-6.575 5.564c-1.687 1.427-4.85 2.589-7.047 2.595l-55.465.16c-2.205.006-5.367-1.141-7.062-2.564l-6.812-5.717c-1.695-1.423-1.805-3.837-.241-5.4l6.149-6.141zm72.327 28.892c.015-2.212 1.4-5.156 3.1-6.58l6.35-5.323c1.698-1.422 4.56-1.565 6.387-.322l8.302 5.646c1.83 1.244 3.326 4.042 3.342 6.258l.51 70.57c.016 2.21-1.32 2.83-2.992 1.374l-22.313-19.423c-1.668-1.452-3.009-4.412-2.994-6.635l.308-45.565zM89.19 56.053c1.618 1.5 2.93 4.501 2.93 6.714v44.353c0 2.209-1.275 5.253-2.848 6.8l-7.356 7.232c-1.572 1.546-4.225 1.666-5.933.26l-8.897-7.325c-1.704-1.403-3.086-4.335-3.086-6.53v-70.85c0-2.205 1.319-2.77 2.93-1.277l22.26 20.623z"
        fillRule="evenodd"
      />
    </svg>
  );
};

const Digital5 = () => {
  return (
    <svg
      className="h-full"
      viewBox="64 0 128 256"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        d="M92.039 119.524c1.561-1.56 4.618-2.841 6.834-2.863l56.433-.554c2.213-.022 5.297 1.204 6.887 2.738l7.074 6.82c1.59 1.535 1.51 3.937-.175 5.362l-6.575 5.564c-1.687 1.427-4.85 2.589-7.047 2.595l-55.465.16c-2.205.006-5.367-1.141-7.062-2.564l-6.812-5.717c-1.695-1.423-1.805-3.837-.241-5.4l6.149-6.141zm65.2 82.647c2.211.003 5.325 1.214 6.95 2.7l24.4 22.31c1.627 1.488 1.156 2.695-1.053 2.697l-118.63.092c-2.21.001-2.693-1.232-1.088-2.747l23.697-22.386c1.608-1.519 4.699-2.748 6.916-2.745l58.808.08zm0-149.283c2.211-.003 5.325-1.213 6.95-2.699l24.4-22.31c1.627-1.488 1.157-2.694-1.05-2.694H68.996c-2.207 0-2.694 1.23-1.094 2.74l23.623 22.307c1.602 1.514 4.689 2.738 6.906 2.735l58.808-.079zm7.127 95.528c.015-2.212 1.4-5.156 3.1-6.58l6.35-5.323c1.698-1.422 4.56-1.565 6.387-.322l8.302 5.646c1.83 1.244 3.326 4.042 3.342 6.258l.51 70.57c.016 2.21-1.32 2.83-2.992 1.374l-22.313-19.423c-1.668-1.452-3.009-4.412-2.994-6.635l.308-45.565zM89.19 56.053c1.618 1.5 2.93 4.501 2.93 6.714v44.353c0 2.209-1.275 5.253-2.848 6.8l-7.356 7.232c-1.572 1.546-4.225 1.666-5.933.26l-8.897-7.325c-1.704-1.403-3.086-4.335-3.086-6.53v-70.85c0-2.205 1.319-2.77 2.93-1.277l22.26 20.623z"
        fillRule="evenodd"
      />
    </svg>
  );
};

const Digital6 = () => {
  return (
    <svg
      className="h-full"
      viewBox="64 0 128 256"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        d="M92.039 119.524c1.561-1.56 4.618-2.841 6.834-2.863l56.433-.554c2.213-.022 5.297 1.204 6.887 2.738l7.074 6.82c1.59 1.535 1.51 3.937-.175 5.362l-6.575 5.564c-1.687 1.427-4.85 2.589-7.047 2.595l-55.465.16c-2.205.006-5.367-1.141-7.062-2.564l-6.812-5.717c-1.695-1.423-1.805-3.837-.241-5.4l6.149-6.141zm-16.746 16.58c1.741-1.359 4.574-1.377 6.334-.035l7.282 5.549c1.757 1.34 3.179 4.212 3.175 6.417l-.08 45.714c-.003 2.205-1.319 5.196-2.95 6.692l-22.11 20.28c-1.626 1.491-2.944.913-2.944-1.301v-70.501c0-2.21 1.411-5.103 3.152-6.461l8.141-6.354zm81.946 66.067c2.211.003 5.325 1.214 6.95 2.7l24.4 22.31c1.627 1.488 1.156 2.695-1.053 2.697l-118.63.092c-2.21.001-2.693-1.232-1.088-2.747l23.697-22.386c1.608-1.519 4.699-2.748 6.916-2.745l58.808.08zm0-149.283c2.211-.003 5.325-1.213 6.95-2.699l24.4-22.31c1.627-1.488 1.157-2.694-1.05-2.694H68.996c-2.207 0-2.694 1.23-1.094 2.74l23.623 22.307c1.602 1.514 4.689 2.738 6.906 2.735l58.808-.079zm7.127 95.528c.015-2.212 1.4-5.156 3.1-6.58l6.35-5.323c1.698-1.422 4.56-1.565 6.387-.322l8.302 5.646c1.83 1.244 3.326 4.042 3.342 6.258l.51 70.57c.016 2.21-1.32 2.83-2.992 1.374l-22.313-19.423c-1.668-1.452-3.009-4.412-2.994-6.635l.308-45.565zM89.19 56.053c1.618 1.5 2.93 4.501 2.93 6.714v44.353c0 2.209-1.275 5.253-2.848 6.8l-7.356 7.232c-1.572 1.546-4.225 1.666-5.933.26l-8.897-7.325c-1.704-1.403-3.086-4.335-3.086-6.53v-70.85c0-2.205 1.319-2.77 2.93-1.277l22.26 20.623z"
        fillRule="evenodd"
      />
    </svg>
  );
};

const Digital7 = () => {
  return (
    <svg
      className="h-full"
      viewBox="64 0 128 256"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        d="M163.819 107.882c.006 2.204 1.314 5.22 2.922 6.738l6.463 6.098c1.608 1.518 4.309 1.626 6.022.25l9.525-7.65c1.718-1.38 3.113-4.283 3.116-6.496l.078-71.27c.002-2.208-1.303-2.78-2.915-1.277l-22.432 20.91c-1.612 1.502-2.914 4.516-2.908 6.71l.129 45.987zm-6.58-54.994c2.211-.003 5.325-1.213 6.95-2.699l24.4-22.31c1.627-1.488 1.157-2.694-1.05-2.694H68.996c-2.207 0-2.694 1.23-1.094 2.74l23.623 22.307c1.602 1.514 4.689 2.738 6.906 2.735l58.808-.079zm7.127 95.528c.015-2.212 1.4-5.156 3.1-6.58l6.35-5.323c1.698-1.422 4.56-1.565 6.387-.322l8.302 5.646c1.83 1.244 3.326 4.042 3.342 6.258l.51 70.57c.016 2.21-1.32 2.83-2.992 1.374l-22.313-19.423c-1.668-1.452-3.009-4.412-2.994-6.635l.308-45.565z"
        fillRule="evenodd"
      />
    </svg>
  );
};

const Digital8 = () => {
  return (
    <svg
      className="h-full"
      viewBox="64 0 128 256"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        d="M163.819 107.882c.006 2.204 1.314 5.22 2.922 6.738l6.463 6.098c1.608 1.518 4.309 1.626 6.022.25l9.525-7.65c1.718-1.38 3.113-4.283 3.116-6.496l.078-71.27c.002-2.208-1.303-2.78-2.915-1.277l-22.432 20.91c-1.612 1.502-2.914 4.516-2.908 6.71l.129 45.987zm-71.78 11.642c1.561-1.56 4.618-2.841 6.834-2.863l56.433-.554c2.213-.022 5.297 1.204 6.887 2.738l7.074 6.82c1.59 1.535 1.51 3.937-.175 5.362l-6.575 5.564c-1.687 1.427-4.85 2.589-7.047 2.595l-55.465.16c-2.205.006-5.367-1.141-7.062-2.564l-6.812-5.717c-1.695-1.423-1.805-3.837-.241-5.4l6.149-6.141zm-16.746 16.58c1.741-1.359 4.574-1.377 6.334-.035l7.282 5.549c1.757 1.34 3.179 4.212 3.175 6.417l-.08 45.714c-.003 2.205-1.319 5.196-2.95 6.692l-22.11 20.28c-1.626 1.491-2.944.913-2.944-1.301v-70.501c0-2.21 1.411-5.103 3.152-6.461l8.141-6.354zm81.946 66.067c2.211.003 5.325 1.214 6.95 2.7l24.4 22.31c1.627 1.488 1.156 2.695-1.053 2.697l-118.63.092c-2.21.001-2.693-1.232-1.088-2.747l23.697-22.386c1.608-1.519 4.699-2.748 6.916-2.745l58.808.08zm0-149.283c2.211-.003 5.325-1.213 6.95-2.699l24.4-22.31c1.627-1.488 1.157-2.694-1.05-2.694H68.996c-2.207 0-2.694 1.23-1.094 2.74l23.623 22.307c1.602 1.514 4.689 2.738 6.906 2.735l58.808-.079zm7.127 95.528c.015-2.212 1.4-5.156 3.1-6.58l6.35-5.323c1.698-1.422 4.56-1.565 6.387-.322l8.302 5.646c1.83 1.244 3.326 4.042 3.342 6.258l.51 70.57c.016 2.21-1.32 2.83-2.992 1.374l-22.313-19.423c-1.668-1.452-3.009-4.412-2.994-6.635l.308-45.565zM89.19 56.053c1.618 1.5 2.93 4.501 2.93 6.714v44.353c0 2.209-1.275 5.253-2.848 6.8l-7.356 7.232c-1.572 1.546-4.225 1.666-5.933.26l-8.897-7.325c-1.704-1.403-3.086-4.335-3.086-6.53v-70.85c0-2.205 1.319-2.77 2.93-1.277l22.26 20.623z"
        fillRule="evenodd"
      />
    </svg>
  );
};

const Digital9 = () => {
  return (
    <svg
      className="h-full"
      viewBox="64 0 128 256"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        d="M163.819 107.882c.006 2.204 1.314 5.22 2.922 6.738l6.463 6.098c1.608 1.518 4.309 1.626 6.022.25l9.525-7.65c1.718-1.38 3.113-4.283 3.116-6.496l.078-71.27c.002-2.208-1.303-2.78-2.915-1.277l-22.432 20.91c-1.612 1.502-2.914 4.516-2.908 6.71l.129 45.987zm-71.78 11.642c1.561-1.56 4.618-2.841 6.834-2.863l56.433-.554c2.213-.022 5.297 1.204 6.887 2.738l7.074 6.82c1.59 1.535 1.51 3.937-.175 5.362l-6.575 5.564c-1.687 1.427-4.85 2.589-7.047 2.595l-55.465.16c-2.205.006-5.367-1.141-7.062-2.564l-6.812-5.717c-1.695-1.423-1.805-3.837-.241-5.4l6.149-6.141zm65.2 82.647c2.211.003 5.325 1.214 6.95 2.7l24.4 22.31c1.627 1.488 1.156 2.695-1.053 2.697l-118.63.092c-2.21.001-2.693-1.232-1.088-2.747l23.697-22.386c1.608-1.519 4.699-2.748 6.916-2.745l58.808.08zm0-149.283c2.211-.003 5.325-1.213 6.95-2.699l24.4-22.31c1.627-1.488 1.157-2.694-1.05-2.694H68.996c-2.207 0-2.694 1.23-1.094 2.74l23.623 22.307c1.602 1.514 4.689 2.738 6.906 2.735l58.808-.079zm7.127 95.528c.015-2.212 1.4-5.156 3.1-6.58l6.35-5.323c1.698-1.422 4.56-1.565 6.387-.322l8.302 5.646c1.83 1.244 3.326 4.042 3.342 6.258l.51 70.57c.016 2.21-1.32 2.83-2.992 1.374l-22.313-19.423c-1.668-1.452-3.009-4.412-2.994-6.635l.308-45.565zM89.19 56.053c1.618 1.5 2.93 4.501 2.93 6.714v44.353c0 2.209-1.275 5.253-2.848 6.8l-7.356 7.232c-1.572 1.546-4.225 1.666-5.933.26l-8.897-7.325c-1.704-1.403-3.086-4.335-3.086-6.53v-70.85c0-2.205 1.319-2.77 2.93-1.277l22.26 20.623z"
        fillRule="evenodd"
      />
    </svg>
  );
};

const GetDigital = (value: string) => {
  switch (value) {
    case "0":
      return Digital0();
    case "1":
      return Digital1();
    case "2":
      return Digital2();
    case "3":
      return Digital3();
    case "4":
      return Digital4();
    case "5":
      return Digital5();
    case "6":
      return Digital6();
    case "7":
      return Digital7();
    case "8":
      return Digital8();
    case "9":
      return Digital9();
    default:
      return Digital0();
  }
};
